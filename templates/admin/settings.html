{% extends "admin/base.html" %}

{% block title %}Einstellungen - Verwaltung{% endblock %}

{% block content %}
<h1>Seiteneinstellungen</h1>

<div class="card">
    <form method="POST">
        <h2>Unternehmensinformationen</h2>
        <p class="text-muted mb-16">Wird in PDFs und der öffentlichen Storefront verwendet.</p>

        <div class="form-group">
            <label>Firmenname</label>
            <input type="text" name="business_name" value="{{ settings.business_name or '' }}">
        </div>

        <div class="form-group">
            <label>Adresszeilen</label>
            <textarea name="address_lines" rows="3" placeholder="Straße&#10;PLZ Stadt&#10;Land">{{ settings.address_lines or '' }}</textarea>
        </div>

        <div class="form-group">
            <label>Kontaktdaten</label>
            <textarea name="contact_lines" rows="3" placeholder="Tel: +49 ...&#10;Email: info@...">{{ settings.contact_lines or '' }}</textarea>
        </div>

        <div class="form-group">
            <label>Bankverbindung</label>
            <textarea name="bank_lines" rows="3" placeholder="Bank: ...&#10;IBAN: ...&#10;BIC: ...">{{ settings.bank_lines or '' }}</textarea>
        </div>

        <hr class="section-divider">

        <h2>Öffentlicher Shop</h2>

        <div class="form-group">
            <label>Shop-Beschreibung</label>
            <textarea name="shop_description" rows="2" placeholder="Kurze Beschreibung für die Storefront...">{{ settings.shop_description or '' }}</textarea>
        </div>

        <hr class="section-divider">

        <h2>Rechtliche Links</h2>
        <p class="text-muted mb-16">Diese werden im Footer der öffentlichen Storefront angezeigt.</p>

        <div class="form-row">
            <div class="form-group">
                <label>Impressum-URL</label>
                <input type="url" name="imprint_url" value="{{ settings.imprint_url or '' }}" placeholder="https://...">
            </div>
            <div class="form-group">
                <label>Datenschutz-URL</label>
                <input type="url" name="privacy_url" value="{{ settings.privacy_url or '' }}" placeholder="https://...">
            </div>
        </div>

        <hr class="section-divider">

        <h2>Benachrichtigungen</h2>

        <div class="form-group">
            <label>Benachrichtigungs-E-Mail</label>
            <input type="email" name="notification_email" value="{{ settings.notification_email or '' }}" placeholder="Empfängt Anfrage-Benachrichtigungen">
            <small class="help-text">E-Mail-Adresse, die Benachrichtigungen erhält, wenn Kunden Anfragen absenden. SMTP muss über Umgebungsvariablen konfiguriert sein (SMTP_SERVER, SMTP_PORT, SMTP_USER, SMTP_PASSWORD).</small>
        </div>

        <button type="submit" class="btn btn-primary mt-10">Einstellungen speichern</button>
    </form>
</div>
{% endblock %}
