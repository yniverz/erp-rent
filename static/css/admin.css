/* ===== Admin Layout & Shared Styles ===== */

body { background: var(--bg-body-admin); }

/* ── Navigation ── */
nav {
    background: var(--color-primary);
    color: white;
    padding: 0;
    box-shadow: var(--shadow-heavy);
}
.nav-inner {
    max-width: var(--container-max-admin);
    margin: 0 auto;
    padding: 0 var(--spacing-page);
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.nav-brand {
    font-size: 1.15em;
    font-weight: 700;
    color: white;
    text-decoration: none;
    padding: 14px 0;
}
.nav-links          { display: flex; align-items: center; gap: 2px; }
.nav-links a        { color: rgba(255,255,255,0.8); text-decoration: none; padding: 14px 14px; font-size: 0.9em; transition: all 0.15s; border-bottom: 3px solid transparent; }
.nav-links a:hover  { color: white; background: rgba(255,255,255,0.05); }
.nav-links a.active { color: white; border-bottom-color: var(--color-accent); }

/* ── Dropdown ── */
.nav-dropdown        { position: relative; }
.nav-dropdown-toggle {
    background: none; border: none; cursor: pointer;
    color: rgba(255,255,255,0.8); padding: 14px 14px; font-size: 0.9em;
    font-family: inherit; display: flex; align-items: center; gap: 4px;
    transition: all 0.15s; border-bottom: 3px solid transparent;
}
.nav-dropdown-toggle:hover           { color: white; background: rgba(255,255,255,0.05); }
.nav-dropdown.active .nav-dropdown-toggle { color: white; border-bottom-color: var(--color-accent); }
.nav-arrow           { font-size: 0.7em; transition: transform 0.2s; }
.nav-dropdown:hover .nav-arrow,
.nav-dropdown.open .nav-arrow        { transform: rotate(180deg); }

.nav-dropdown-menu {
    display: none; position: absolute; top: 100%; left: 0; min-width: 180px;
    background: var(--color-primary); border-radius: 0 0 var(--radius-sm) var(--radius-sm);
    box-shadow: var(--shadow-heavy); z-index: 1000; overflow: hidden;
}
.nav-dropdown:hover .nav-dropdown-menu,
.nav-dropdown.open .nav-dropdown-menu { display: block; }
.nav-dropdown-menu a {
    display: block; padding: 10px 18px; color: rgba(255,255,255,0.85);
    text-decoration: none; font-size: 0.88em; transition: background 0.15s;
    border-bottom: none; white-space: nowrap;
}
.nav-dropdown-menu a:hover  { background: rgba(255,255,255,0.1); color: white; }
.nav-dropdown-menu a.active { background: rgba(255,255,255,0.08); color: white; font-weight: 600; }

/* ── Hamburger (mobile) ── */
.nav-hamburger {
    display: none; background: none; border: none; cursor: pointer;
    flex-direction: column; gap: 4px; padding: 8px;
}
.nav-hamburger span {
    display: block; width: 22px; height: 2px; background: white;
    border-radius: 1px; transition: transform 0.2s;
}

@media (max-width: 900px) {
    .nav-inner    { flex-wrap: wrap; }
    .nav-hamburger { display: flex; }
    .nav-links {
        display: none; flex-direction: column; width: 100%;
        order: 3; padding-bottom: 8px;
    }
    .nav-links.open       { display: flex; }
    .nav-links a          { padding: 10px 14px; border-bottom: none; }
    .nav-links a.active   { background: rgba(255,255,255,0.1); border-bottom: none; }
    .nav-dropdown-toggle  { width: 100%; justify-content: space-between; border-bottom: none; }
    .nav-dropdown.active .nav-dropdown-toggle { border-bottom: none; background: rgba(255,255,255,0.06); }
    .nav-dropdown-menu    { position: static; box-shadow: none; border-radius: 0; }
    .nav-dropdown-menu a  { padding-left: 32px; }
    .nav-right            { margin-left: auto; }
}

.nav-right          { display: flex; align-items: center; gap: 14px; }
.nav-user           { color: rgba(255,255,255,0.7); font-size: 0.85em; }
.nav-logout         { color: white; background: var(--color-danger); text-decoration: none; padding: 7px 16px; border-radius: var(--radius-sm); font-size: 0.85em; transition: background 0.2s; }
.nav-logout:hover   { background: var(--color-danger-hover); }

.nav-shop-link      { color: white; border-color: rgba(255,255,255,0.3); }

.inquiry-badge {
    background: #ef4444;
    color: white;
    font-size: 0.7em;
    padding: 1px 6px;
    border-radius: 8px;
    margin-left: 4px;
    vertical-align: top;
}

/* ── Container ── */
.container {
    max-width: var(--container-max-admin);
    margin: 0 auto;
    padding: 24px var(--spacing-page);
}

/* ── Headings ── */
h1, h2, h3 { margin-bottom: 16px; }
h1         { font-size: 1.7em; }

/* ── Tables ── */
table {
    width: 100%;
    border-collapse: collapse;
    background: var(--bg-card);
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    margin-bottom: 24px;
}
table th {
    background: var(--color-primary);
    color: white;
    padding: 12px 16px;
    text-align: left;
    font-size: 0.85em;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}
table td {
    padding: 12px 16px;
    border-bottom: 1px solid var(--color-gray-100);
    vertical-align: middle;
}
table tr:last-child td { border-bottom: none; }
table tr:hover         { background: var(--color-gray-50); }

/* ── Admin-specific button overrides ── */
.btn         { padding: 8px 18px; font-size: 0.9em; transition: all 0.15s; }
.btn:hover   { transform: none; } /* no lift in admin */
.btn-outline { background: transparent; border: 1px solid var(--border-color); color: var(--color-gray-700); }
.btn-outline:hover { background: var(--color-gray-100); color: var(--color-gray-700); }

/* ── Badges ── */
.badge {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 0.8em;
    font-weight: 600;
}
.badge-draft      { background: var(--badge-draft-bg);      color: var(--badge-draft-text); }
.badge-finalized  { background: var(--badge-finalized-bg);  color: var(--badge-finalized-text); }
.badge-paid       { background: var(--badge-paid-bg);       color: var(--badge-paid-text); }
.badge-new        { background: var(--badge-new-bg);        color: var(--badge-new-text); }
.badge-contacted  { background: var(--badge-contacted-bg);  color: var(--badge-contacted-text); }
.badge-converted  { background: var(--badge-converted-bg);  color: var(--badge-converted-text); }
.badge-closed     { background: var(--badge-closed-bg);     color: var(--badge-closed-text); }
.badge-success    { background: var(--color-success-light);  color: var(--color-success-dark); }
.badge-warning    { background: var(--color-warning-light);  color: var(--color-warning-dark); }
.badge-external   { background: var(--color-external); color: white; font-size: 0.7em; vertical-align: middle; }
.badge-package    { background: var(--color-accent); color: white; font-size: 0.7em; vertical-align: middle; }
.badge-bundle     { display: inline-block; font-size: 0.7em; color: white; background: var(--color-accent); padding: 2px 6px; border-radius: var(--radius-sm); vertical-align: middle; margin-left: 4px; }
.badge-lg         { font-size: 1em; padding: 6px 16px; }

/* ── Cards ── */
.card {
    background: var(--bg-card);
    border-radius: var(--radius-lg);
    padding: 24px;
    box-shadow: var(--shadow-sm);
    margin-bottom: 20px;
}

/* ── Stats ── */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
}
.stat-card {
    background: var(--bg-card);
    padding: 20px;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    border-left: 4px solid var(--color-accent);
}
.stat-card.stat-success  { border-left-color: var(--color-success); }
.stat-card.stat-warning  { border-left-color: var(--color-warning); }
.stat-card.stat-muted    { border-left-color: var(--color-gray-500); }
.stat-card.stat-external { border-left-color: var(--color-external); }
.stat-label  { font-size: 0.85em; color: var(--color-text-muted); margin-bottom: 4px; }
.stat-value  { font-size: 1.8em; font-weight: 700; color: var(--color-gray-900); }

/* ── Admin forms ── */
.form-group    { margin-bottom: 16px; }
.form-group label { font-size: 0.88em; }
input[type="text"], input[type="number"], input[type="email"],
input[type="password"], input[type="date"], input[type="url"],
textarea, select {
    padding: 9px 14px;
    font-size: 0.93em;
}

/* ── Pricing summary ── */
.price-summary      { background: var(--bg-muted); padding: 18px; border-radius: var(--radius-md); margin-top: 16px; }
.price-row          { display: flex; justify-content: space-between; padding: 6px 0; }
.price-row.total    { font-size: 1.2em; font-weight: 700; border-top: 2px solid var(--color-text); margin-top: 10px; padding-top: 12px; }

/* ── Actions bar ── */
.actions-bar        { display: flex; gap: 10px; align-items: center; margin-bottom: 20px; flex-wrap: wrap; }

/* ── Category table row ── */
.category-header-row {
    background: var(--color-gray-100);
    font-weight: 700;
    font-size: 1.05em;
    padding: 12px 16px;
    color: var(--color-accent);
    border-top: 2px solid var(--color-gray-300);
}
.category-header-row .category-ancestors {
    font-weight: 400;
    color: var(--color-text-muted);
    font-size: 0.92em;
}

/* ── Empty-state row ── */
.empty-state {
    text-align: center;
    color: var(--color-text-muted);
    padding: 30px;
}

/* ── Quick-access block ── */
.quick-access {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 10px;
}

/* ── Print ── */
@media print {
    nav, .btn, .no-print, .actions-bar { display: none; }
    body { background: #fff; color: #000; }
    .card, table { box-shadow: none; }
}

/* ── Responsive ── */
@media (max-width: 768px) {
    .nav-inner  { flex-direction: column; gap: 8px; padding: 10px var(--spacing-page); }
    .nav-links  { flex-wrap: wrap; justify-content: center; }
    .form-row   { grid-template-columns: 1fr; }
}
